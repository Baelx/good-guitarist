(()=>{var e={861:()=>{},676:(e,t,r)=>{"use strict";r.r(t);var a=r(307),n=wp.blocks.registerBlockType,l=wp.components,o=l.TextControl,i=(l.FormFileUpload,l.Button),c=wp.blockEditor,s=(c.RichText,c.useBlockProps),u=c.MediaUpload,d=c.MediaUploadCheck,m=wp.data,p=(m.useSelect,m.useDispatch,wp.coreData.useEntityProp,wp.i18n.__);n("gutenberg-good-guitarist/cta-template",{title:"Call to Action Template",icon:"admin-customizer",category:"text",attributes:{description:{type:"string",default:""},url:{type:"string",default:""},buttonText:{type:"string",default:""},imageId:{type:"integer",default:0},imageUrl:{type:"string",default:""}},edit:function(e){var t=e.attributes,r=e.setAttributes,n=t.url,l=t.description,c=t.buttonText,m=t.imageId,g=t.imageUrl,b=s();return(0,a.createElement)("div",b,(0,a.createElement)(o,{label:p("Description"),value:l,onChange:function(e){return r({description:e})}}),(0,a.createElement)(o,{label:p("URL"),value:n,onChange:function(e){return r({url:e})}}),(0,a.createElement)(o,{label:p('Button text (if nothing is entered, button text will be "Click here")'),value:c,onChange:function(e){return r({buttonText:e})}}),(0,a.createElement)("div",{className:"media-upload-component"},(0,a.createElement)("label",{className:"image-label"},p("Call to action thumbnail (if no image is chosen, a default image will be used)")),g&&(0,a.createElement)("img",{className:"course-image",src:g}),(0,a.createElement)(d,null,(0,a.createElement)(u,{onSelect:function(e){r({imageId:e.id,imageUrl:e.url})},allowedTypes:["image"],render:function(e){var t=e.open;return(0,a.createElement)(i,{className:0===m?"select-image-button":"select-image-button button-hidden",onClick:t},0==m&&p("Choose an image"))}})),0!==m&&(0,a.createElement)(d,null,(0,a.createElement)(i,{onClick:function(){r({imageId:0,imageUrl:""})},isLink:!0,isDestructive:!0},p("Remove image")))))},save:function(){return null}})},435:(e,t,r)=>{"use strict";function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}r.r(t);(0,wp.hooks.addFilter)("blocks.registerBlockType","good-guitarist/modify-group-block",(function(e){if("core/group"!==e.name)return e;!function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}}({},e);return e}))},193:(e,t,r)=>{"use strict";r.r(t);var a=r(307),n=wp.blocks.registerBlockType,l=wp.element,o=(l.Fragment,l.useState,wp.editor),i=(o.PlainText,o.RichText,o.MediaUpload,o.BlockControls,o.InspectorControls,o.ColorPalette,o.getColorClass,wp.components),c=(i.IconButton,i.RangeControl,i.PanelBody,i.SelectControl),s=wp.data.useSelect,u=wp.blockSerializationDefaultParser.parse,d=wp.i18n.__;n("gutenberg-good-guitarist/large-cta",{title:"Large Call to Action",icon:"megaphone",category:"layout",className:"large-cta",attributes:{selectedCourseId:{type:"integer",default:0},selectedCourseTitle:{type:"string",default:""},selectedCourseDesc:{type:"string",default:""},selectedCourseLink:{type:"string",default:""},selectedCourseImageID:{type:"integer",default:0},selectedCourseImageUrl:{type:"string",default:""}},edit:function(e){var t=e.attributes,r=e.className,n=e.setAttributes,l=t.selectedCourseId,o=s((function(e){return e("core").getEntityRecords("postType","course")})),i=s((function(e){return e("core/data").isResolving("core","getEntityRecords",["postType","course"])})),m=[{label:"Select a call to action",value:null,default:!0}],p={};o&&o.forEach((function(e){if(e.id){var t=u(e.content.raw).find((function(e){return"gutenberg-good-guitarist/course-template"===e.blockName})).attrs;t&&(m.push({label:e.title.raw,value:e.id}),p[e.id]={title:e.title.raw,description:t.courseDescription,url:t.courseUrl,imageId:t.imageId,imageUrl:t.imageUrl})}}));return(0,a.createElement)("div",{className:r},(0,a.createElement)("h2",{className:"dynamic-block-h2"},d("Large Course Card")),i&&(0,a.createElement)("span",null,d("Loading...")),m&&(0,a.createElement)(c,{label:"Select course",value:l,options:m,onChange:function(e){console.log(p[e].imageUrl),n(e in p?{selectedCourseId:parseInt(e),selectedCourseTitle:p[e].title,selectedCourseDesc:p[e].description,selectedCourseImageID:p[e].image,selectedCourseLink:p[e].url,selectedCourseImageUrl:p[e].imageUrl}:{selectedCourseId:e,selectedCourseTitle:"",selectedCourseDesc:"",selectedCourseImageID:"",selectedCourseLink:"",selectedCourseImageUrl:""})}}))},save:function(){return null}})},780:(e,t,r)=>{"use strict";r.r(t);var a=r(307),n=wp.blocks.registerBlockType,l=wp.editor,o=(l.RichText,l.InspectorControls,wp.blockEditor.useBlockProps),i=wp.components,c=(i.Button,i.PanelBody,i.PanelRow,i.Dashicon,wp.element),s=(c.useEffect,c.useState,wp.data),u=(s.select,s.useSelect,wp.i18n.__);wp.blockSerializationDefaultParser.parse;n("gutenberg-good-guitarist/latest-lessons",{title:"Latest Lessons",icon:"list",category:"layout",className:"latest-lessons",attributes:{lessons:{type:"string"}},edit:function(e){e.attributes,e.className;var t=o();return(0,a.createElement)("div",t,(0,a.createElement)("h2",{className:"dynamic-block-h2"},u("Latest Lessons Carousel")))},save:function(){return null}})},252:(e,t,r)=>{"use strict";r.r(t);var a=r(462),n=r(307),l=r(309),o=wp.blocks.registerBlockType,i=wp.i18n.__,c=wp.editor.MediaUpload,s=wp.blockEditor,u=s.useBlockProps,d=s.BlockControls,m=wp.components,p=m.Toolbar,g=m.ToolbarDropdownMenu,b=m.TextControl,f=m.TextareaControl,y=wp.data.useSelect;o("gutenberg-good-guitarist/small-cta",{title:"Small Call to Action",icon:"megaphone",category:"layout",className:"small-cta",attributes:{description:{type:"string",default:""},url:{type:"string",default:""},buttonText:{type:"string",default:"Click here"},imageId:{type:"number"},imageUrl:{type:"string",default:"".concat(gutenbergVars.image_dir,"/good-guitarist-preview-img.png")}},edit:function(e){var t=e.attributes,r=e.setAttributes,o=u(),s=t.url,m=t.buttonText,v=t.description,h=t.imageId,E=t.imageUrl,w=y((function(e){var t=e("core").getEntityRecords("postType","cta");if(t)return(0,l.c)(t).map((function(e){return{title:e.title,onClick:function(){return r({description:e.description,url:e.url,imageId:e.imageId,imageUrl:e.imageUrl})}}}))}));return(0,n.createElement)("div",(0,a.Z)({},o,{className:"small-cta"}),(0,n.createElement)(d,null,(0,n.createElement)(p,null,w&&(0,n.createElement)(g,{icon:"update",label:"Use with an existing course",controls:w}))),(0,n.createElement)("div",{className:"image-container"},(0,n.createElement)("img",{src:E,alt:""}),(0,n.createElement)(c,{onSelect:function(e){r({imageUrl:e.url,imageId:e.id})},allowedTypes:"image",value:h,render:function(e){var t=e.open;return(0,n.createElement)("button",{type:"text",className:"image-button change-image-button",onClick:t},i("Change Image"))}})),(0,n.createElement)("div",{className:"details-container"},(0,n.createElement)(f,{label:"Description",value:v,onChange:function(e){return r({description:e})}}),(0,n.createElement)(b,{label:"Link",value:s,onChange:function(e){return r({url:e})}}),(0,n.createElement)(b,{className:"button-text-input",label:"Button text",value:m,onChange:function(e){return r({buttonText:e})}})))},save:function(e){var t=e.attributes,r=t.url,a=t.buttonText,l=t.description,o=t.imageUrl;return(0,n.createElement)("div",null,(0,n.createElement)("div",{className:"image-container"},(0,n.createElement)("img",{src:o,alt:""})),(0,n.createElement)("div",{className:"details-container"},(0,n.createElement)("p",null,l),(0,n.createElement)("button",{className:"cta-button",href:r},a)))}})},181:(e,t,r)=>{"use strict";r.r(t);var a=r(462);function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,l=[],o=!0,i=!1;try{for(r=r.call(e);!(o=(a=r.next()).done)&&(l.push(a.value),!t||l.length!==t);o=!0);}catch(e){i=!0,n=e}finally{try{o||null==r.return||r.return()}finally{if(i)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var o=r(307),i=r(309),c=wp.i18n.__,s=function(e){var t=e.ctaId,r=e.ctaData.find((function(e){return e.id===t})),a=r.description,n=r.imageUrl,l=r.url,i=r.buttonText;return(0,o.createElement)("div",{className:"sidebar-cta-card"},(0,o.createElement)("img",{src:n,alt:""}),(0,o.createElement)("div",{className:"cta-card-body"},(0,o.createElement)("p",{className:"body-text"},a),(0,o.createElement)("a",{className:"cta-url-button",href:l},i||c("Click here"))))},u=wp.blocks,d=u.registerBlockType,m=u.createBlock,p=wp.components,g=p.TextControl,b=p.PanelRow,f=p.SelectControl,y=p.ToggleControl,v=wp.blockEditor,h=v.useBlockProps,E=v.InnerBlocks,w=wp.editPost.PluginDocumentSettingPanel,C=wp.data,T=C.select,k=C.useSelect,N=C.dispatch,I=C.useDispatch,S=wp.element,P=S.useRef,U=S.useState,D=S.useEffect,O=wp.i18n.__;d("gutenberg-good-guitarist/ypt",{apiVersion:2,title:"Youtube Post Template",icon:"playlist-video",category:"layout",className:"youtube-post-type",attributes:{videoInfoFetched:{type:"boolean",default:!1},videoTitle:{type:"string"},videoThumbnail:{type:"string",default:gutenbergVars.image_dir+"/good-guitarist-preview-img.png"},videoDescription:{type:"array"},videoURL:{type:"string"},videoID:{type:"string"},songTitle:{type:"string",default:""},sidebarCtaSlotOne:{type:"integer",default:-1},sidebarCtaSlotTwo:{type:"integer",default:-1},postBodyElements:{type:"array",default:[]}},edit:function(e){var t=e.clientId,r=e.attributes,n=e.className,c=e.setAttributes,u=r.videoInfoFetched,d=r.videoID,p=r.videoURL,v=r.videoTitle,C=r.videoThumbnail,S=r.songTitle,x=r.sidebarCtaSlotOne,B=r.sidebarCtaSlotTwo,_=h(),j=P(),A=l(U({class:"fetch-message-hidden",message:""}),2),R=A[0],L=A[1];D((function(){gutenbergVars.youtube_api_key||L({class:"fetch-message-fail",message:O('Youtube API key not detected. Please ensure you have entered a valid API key in the "GG Settings" section.')})}),[]);var F=k((function(e){var t,r=e("core").getEntityRecords("postType","cta"),a=[{label:"None",value:-1}];return r&&(t=(0,i.c)(r)).forEach((function(e){a.push({label:e.title,value:e.id})})),{postMeta:e("core/editor").getEditedPostAttribute("meta"),ctaData:t,ctaSelectOptions:a}})),M=F.postMeta,V=F.ctaData,Y=F.ctaSelectOptions;if(M)I("core/editor",[M.difficulty]).editPost;var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r="",a="";e?(r="fetch-message-success",a=O("Video information fetched successfully.")):(r="fetch-message-fail",a=O("Couldn't fetch video information.")+" ".concat(t)),L({class:r,message:a}),setTimeout((function(){L({class:"fetch-message-hidden",message:""})}),3e3)},Z=function(e){try{var r=T("core/block-editor").getBlocksByClientId(t)[0].innerBlocks.map((function(e){return e.clientId}));N("core/block-editor").removeBlocks(r);var a=e.result.items[0].snippet.title,n=e.result.items[0].snippet.description,l=e.result.items[0].snippet.thumbnails.medium.url,o=function(e){return e.filter((function(e){return e.length})).map((function(e){var t=function(e){var t=/(http:\/\/|https:\/\/).*/g,r="";return"string"==typeof e&&(null==e?void 0:e.search(t))>=0&&(r=e.match(t)),r}(e),r="core/paragraph",a={content:e};return t&&(r="gutenberg-good-guitarist/small-cta",a={url:t,description:e}),m(r,a)}))}(n.split("\n"));N("core/editor").editPost({title:a}),N("core/block-editor").insertBlocks(o,0,t),c({videoTitle:a,videoThumbnail:l,videoInfoFetched:!0}),z(!0)}catch(e){z(!1),console.error(e)}};return(0,o.createElement)("div",(0,a.Z)({},_,{className:n}),(0,o.createElement)(w,{name:"sidebar-course-slots",title:O("Video sidebar CTA slots"),className:"sidebar-course-slots-panel"},Y&&(0,o.createElement)(b,null,(0,o.createElement)(f,{label:O("Sidebar CTA slot 1"),value:x,options:Y,onChange:function(e){return c({sidebarCtaSlotOne:Number(e)})}})),Y&&(0,o.createElement)(b,null,(0,o.createElement)(f,{label:O("Sidebar CTA slot 2"),value:B,options:Y,onChange:function(e){return c({sidebarCtaSlotTwo:Number(e)})}}))),(0,o.createElement)(w,{name:"song-difficulty-attributes",title:O("Song difficulty"),className:"song-difficulty-panel"},(0,o.createElement)(b,null,M&&(0,o.createElement)(g,{label:O("Enter a number from 1 to 50"),value:M.song_difficulty,onChange:function(e){return editPost({meta:{song_difficulty:e}})}}))),(0,o.createElement)(w,{name:"contains-only-one-barre-chord",title:O("Contains only one barre chord"),className:"contains-only-one-barre-chord-panel"},(0,o.createElement)(b,null,M&&(0,o.createElement)(y,{label:O("One barre chord song"),checked:M.contains_one_barre,onChange:function(e){return editPost({meta:{contains_one_barre:e}})}}))),(0,o.createElement)("section",{className:"video-details"},(0,o.createElement)("h2",null,O("Video Details")),(0,o.createElement)("span",{className:"fetch-message ".concat(R.class)},R.message),(0,o.createElement)("label",{className:"youtube-post-label",htmlFor:"youtube-video-url"},"Search by Youtube video URL"),(0,o.createElement)("form",{onSubmit:function(e){return function(e,t){e.preventDefault(),L({class:"fetch-message-hidden",message:""}),gapi.load("client",(function(){console.log("the vid id",t),gapi.client.setApiKey(gutenbergVars.youtube_api_key),gapi.client.load("youtube","v3",(function(){gapi.client.youtube.videos.list({part:"snippet",id:t}).then((function(e){Z(e)}),(function(e){z(!1,e)}))}))}))}(e,d)}},(0,o.createElement)("input",{id:"youtube-video-url",label:O("Video URL"),className:"youtube-video-url",value:p,onChange:function(e){var t=e.target.value,r=null,a=t.match(/(\?v=)(\w|-)+/g);a&&(r=a[0].replace("?v=","")),c({videoID:r,videoURL:t})}}),(0,o.createElement)("input",{type:"submit",className:"yt-submit-button",value:"Submit"})),v&&(0,o.createElement)(g,{label:O("Video Title"),value:v,onChange:function(e){return c({videoTitle:e.target.value})}}),C&&u&&(0,o.createElement)(o.Fragment,null,(0,o.createElement)("label",{className:"youtube-post-label"},O("Video Thumbnail")),(0,o.createElement)("img",{src:C})),(0,o.createElement)("label",{className:"youtube-post-label",htmlFor:"song-title"},O("Song Title")),(0,o.createElement)("input",{id:"song-title",type:"text",value:S,onChange:function(e){return c({songTitle:e.target.value})}})),(0,o.createElement)("section",{ref:j,className:"post-body"},(0,o.createElement)("h2",null,O("Post Body")),d?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("div",{className:"youtube-post-video-area"},p&&(0,o.createElement)("iframe",{width:"560",height:"715",src:p,className:x>0||B>0?"iframe-two-third-width":"iframe-full-width",title:"YouTube video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}),(x>0||B>0)&&(0,o.createElement)("div",{className:"course-sidebar"},x>0&&V&&(0,o.createElement)(s,{ctaId:x,ctaData:V}),B>0&&V&&(0,o.createElement)(s,{ctaId:B,ctaData:V}))),(0,o.createElement)("div",{className:"post-content-video-description"},(0,o.createElement)(E,null))):(0,o.createElement)("span",{className:"empty-post-body-msg"},O("Submit URL to populate post body."))))},save:function(e){var t=e.attributes,r=e.className,a=t.videoURL;t.videoDescription;return(0,o.createElement)("div",{className:r},a?(0,o.createElement)("iframe",{width:"560",height:"515",src:a,title:"YouTube video player",frameborder:"0",allow:"accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:!0}):"",(0,o.createElement)("div",{class:"youtube-post-type-video-description"},(0,o.createElement)(E.Content,null)))}})},976:(e,t,r)=>{"use strict";r.r(t);var a=r(307),n=wp.i18n.__;(0,wp.blocks.registerBlockType)("gutenberg-good-guitarist/ypt-search",{title:"Youtube Post Search Box",icon:"search",category:"layout",className:"youtube-post-type-search",attributes:{},edit:function(){return(0,a.createElement)(a.Fragment,null,(0,a.createElement)("div",null,n("A full page song search area will be rendered here.")),(0,a.createElement)("small",null,n("It's recommended that you only place one of these on your site on a page called 'Search'")))},save:function(){return null}})},309:(e,t,r)=>{"use strict";r.d(t,{c:()=>l});var a=wp.blockSerializationDefaultParser.parse,n=function(e){return a(e.content.raw).find((function(e){return"gutenberg-good-guitarist/cta-template"===e.blockName}))},l=function(e){return e.filter((function(e){return e.id?n(e):void 0})).map((function(e){var t=n(e).attrs;return{id:e.id,title:e.title.raw,description:t.description,url:t.url,buttonText:t.buttonText,imageId:t.imageId,imageUrl:t.imageUrl}}))}},307:e=>{"use strict";e.exports=window.wp.element},462:(e,t,r)=>{"use strict";function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},a.apply(this,arguments)}r.d(t,{Z:()=>a})}},t={};function r(a){var n=t[a];if(void 0!==n)return n.exports;var l=t[a]={exports:{}};return e[a](l,l.exports,r),l.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r(252),r(193),r(861),r(676),r(435),r(780),r(181),r(976)})();
//# sourceMappingURL=gutenberg.js.map
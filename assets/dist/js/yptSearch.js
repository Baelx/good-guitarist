(()=>{"use strict";var e,t,r,n,a,o,s,i,c,l,u={567:e=>{e.exports=window.jQuery}},d={};function p(e){var t=d[e];if(void 0!==t)return t.exports;var r=d[e]={exports:{}};return u[e](r,r.exports,p),r.exports}e=p(567),t=p(567),r=lodash.chunk,n=function(e,t){var r={action:"ypt_ajax_filter_search",songSearchText:0!==e.find("#songSearchText").val().length?e.find("#songSearchText").val():null};return t&&t.forEach((function(e){r[e]=a(e)})),r},a=function(e){var t=[],r=document.querySelectorAll('#ypt-ajax-filter-search input[name="'.concat(e,'"]:checked'));return Array.prototype.forEach.call(r,(function(e){console.log("the element",e.id),"radio"===e.type?t=e.value:"checkbox"===e.type&&"contains-one-barre-chord"!==e.id?t.push(e.value):"contains-one-barre-chord"===e.id&&(t=e.checked)})),t},o=function(t,r){var n=e(".search-results-count .count");t&&e.ajax({url:YPTSEARCHAJAX.ajax_url,data:r,success:function(r){console.log(" the response is",r),t.empty(),n.each((function(){e(this).text(r.data.length)})),i(r.data,t)}})},s=function(e,t){e.forEach((function(e){var r="<li class='ypt-result' id='ypt-"+e.id+"'>";r+="  <a href='"+e.permalink+"' title='"+e.title+"'>",r+="\t   <img src='"+e.content[0].attrs.videoThumbnail+"' />",r+="      <div class='ypt-info'>",r+="          <h3>"+e.title+"</h3>",r+="      </div>",r+="  </a>",r+="</li>",t.append(r)}))},i=function(t,n,a){var o=e(".search-results-controls .previous-page"),i=e(".search-results-controls .next-page"),l=e(".search-results-page-count");if(o.prop("disabled",!1).css("cursor","pointer"),i.prop("disabled",!1).css("cursor","pointer"),l.find(".current-page").text("1"),l.find(".last-page").text("1"),n.empty(),t.length>=6){var u=r(t,6);l.find(".current-page").text("1"),l.find(".last-page").text(u.length),s(u[0],n),o.on("click",(function(e){var t=c(e.target,!1,u.length,l);n.empty(),s(u[t],n)})),i.on("click",(function(e){var t=c(e.target,!0,u.length,l);n.empty(),s(u[t],n)}))}else s(t,n),o.prop("disabled",!0).css("cursor","not-allowed"),i.prop("disabled",!0).css("cursor","not-allowed"),l.find(".current-page").text("1"),l.find(".last-page").text("1")},c=function(t,r,n,a){var o=e(t).parent().first().find(".search-results-page-count .current-page").first(),s=Number(o.data("page")),i=s+1;return r?s<n-1&&(a.find(".current-page").text(i+1),o.data("page",s+1)):s>0&&(a.find(".current-page").text(i-1),o.data("page",s-1)),o.data("page")},l=function(e){window.innerWidth<901?e.setAttribute("aria-expanded","false"):e.setAttribute("aria-expanded","true")},function(e){var t,r,a,s=["songDecade","songChords","songChordsFilterType","songGenre","songBeginner","songDifficulty","songContainsOneBarre"],i=e("#ypt-ajax-filter-search"),c=i.find("form"),u=i.find("#ypt-ajax-search-results");console.log("hello"),c.on("submit",(function(e){var t=n(c,s);console.log("form data",t),e.preventDefault(),o(u,t)})),t=document.querySelector(".filters-expand-button"),r=t.querySelector("span"),a=document.querySelector(".search-filters-section"),window.addEventListener("resize",(function(){l(),window.innerWidth<901?a.style.height="0px":a.style.height="450px"})),l(t),t.addEventListener("click",(function(e){e.preventDefault(),"true"===t.getAttribute("aria-expanded")?(a.style.height="0px",t.setAttribute("aria-expanded","false"),r.style.transform="rotate(0deg)"):"false"===t.getAttribute("aria-expanded")&&(a.style.height="450px",t.setAttribute("aria-expanded","true"),r.style.transform="rotate(180deg)")}));var d=n(c,null);o(u,d)}(t)})();
//# sourceMappingURL=yptSearch.js.map